#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

cd sati-fe

echo "ğŸ” Running pre-commit checks..."

# Format check
echo "ğŸ“ Checking formatting..."
npm run format:check || {
  echo "âŒ Format check failed. Run 'npm run format' to fix."
  exit 1
}

# Type check
echo "ğŸ”§ Checking types..."
npm run type-check || {
  echo "âŒ Type check failed."
  exit 1
}

# Lint
echo "ğŸ§¹ Running linter..."
npm run lint || {
  echo "âŒ Lint failed."
  exit 1
}

# Accessibility audit
echo "â™¿ Checking color accessibility..."
npm run audit:colors || {
  echo "âŒ Accessibility check failed. Fix color contrast issues."
  exit 1
}

echo "âœ… All checks passed!"